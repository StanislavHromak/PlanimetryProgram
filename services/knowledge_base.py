class TheoremService:
    """
    Сервіс бази знань (Data Access Object).
    Поточна реалізація: Mock (заглушка) в пам'яті.
    Пізніше тут буде підключення до SQLite (database/theorems.db).
    """

    def __init__(self):
        # Тимчасова "база даних" для тестування ядра програми
        self._mock_db = {
            # Трикутники
            "Теорема косинусів": {
                "formula": "c² = a² + b² - 2ab * cos(γ)",
                "description": "Квадрат сторони трикутника дорівнює сумі квадратів двох інших сторін мінус подвоєний добуток цих сторін на косинус кута між ними."
            },
            "Формула Герона": {
                "formula": "S = √(p * (p-a) * (p-b) * (p-c))",
                "description": "Площа трикутника обчислюється через його півпериметр (p) та довжини трьох сторін."
            },
            "Радіус вписаного кола (трикутник)": {
                "formula": "r = S / p",
                "description": "Радіус вписаного кола дорівнює відношенню площі трикутника до його півпериметра."
            },

            # Чотирикутники
            "Площа прямокутника": {
                "formula": "S = a * b",
                "description": "Площа прямокутника дорівнює добутку його довжини на ширину."
            },
            "Площа трапеції": {
                "formula": "S = ((a + b) / 2) * h",
                "description": "Площа трапеції дорівнює добутку півсуми її основ на висоту."
            },

            # Кола
            "Довжина кола": {
                "formula": "C = 2 * π * r",
                "description": "Довжина кола дорівнює подвоєному добутку числа пі на радіус."
            },
            "Площа круга": {
                "formula": "S = π * r²",
                "description": "Площа круга дорівнює добутку числа пі на квадрат радіуса."
            }
        }

    def get_theorem(self, name: str) -> dict:
        """
        Повертає формулу та опис теореми за її назвою.
        Універсальний метод, який будуть викликати математичні класи.
        """
        if name in self._mock_db:
            data = self._mock_db[name]
            return {
                "name": name,
                "formula": data["formula"],
                "description": data["description"]
            }

        # Фоллбек (якщо правило ще не додали)
        return {
            "name": name,
            "formula": "Формулу ще не додано",
            "description": "Опис відсутній у базі знань."
        }